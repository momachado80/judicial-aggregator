# Mapeamento COMPLETO de códigos de comarca TJSP e TJBA
# Fonte: TJSP - Resolução CNJ nº 65/2008
# Fonte: TJBA - Portal da Corregedoria TJBA

COMARCAS_TJSP = {
    "CAPITAL": "São Paulo (Capital)",
    "0000": "Tribunal de Justiça",
    "0001": "Foro Regional I - Santana",
    "0002": "Foro Regional II - Santo Amaro",
    "0003": "Foro Regional III - Jabaquara",
    "0004": "Foro Regional IV - Lapa",
    "0005": "Foro Regional V - São Miguel Paulista",
    "0006": "Foro Regional VI - Penha de França",
    "0007": "Foro Regional VII - Itaquera",
    "0008": "Foro Regional VIII - Tatuapé",
    "0009": "Foro Regional IX - Vila Prudente",
    "0010": "Foro Regional X - Ipiranga",
    "0011": "Foro Regional XI - Pinheiros",
    "0020": "Foro Regional XII - Nossa Senhora do Ó",
    "0084": "Foro Regional de Vila Mimosa",
    "0704": "Foro Regional XV - Butantã",
    "0014": "Foro das Execuções Fiscais Estaduais",
    "0015": "Foro Especial da Infância e Juventude",
    "0016": "Foro Central Juizados Especiais Cíveis",
    "0021": "Setor de Cartas Precatórias Cíveis - Cap",
    "0050": "Foro Central Criminal Barra Funda",
    "0052": "Foro Central Criminal - Juri",
    "0053": "Foro Central - Fazenda Pública/Acidentes",
    "0090": "Foro das Execuções Fiscais Municipais",
    "0100": "Foro Central Cível",
    "0258": "Foro da Casa da Mulher Brasileira",
    "0260": "Foro Especializado da 1ª RAJ",
    "0019": "Americana",
    "0022": "Amparo",
    "0024": "Andradina",
    "0025": "Angatuba",
    "0028": "Aparecida",
    "0030": "Apiaí",
    "0032": "Araçatuba",
    "0035": "Águas de Lindoia",
    "0037": "Araraquara",
    "0038": "Araras",
    "0040": "Américo Brasiliense",
    "0042": "Altinópolis",
    "0045": "Arujá",
    "0047": "Assis",
    "0048": "Atibaia",
    "0058": "Agudos",
    "0059": "Bananal",
    "0060": "Auriflama",
    "0073": "Avaré",
    "0081": "Adamantina",
    "0083": "Aguaí",
    "0062": "Bariri",
    "0063": "Barra Bonita",
    "0066": "Barretos",
    "0067": "Borborema",
    "0068": "Barueri",
    "0069": "Bastos",
    "0070": "Batatais",
    "0071": "Bauru",
    "0072": "Bebedouro",
    "0075": "Bertioga",
    "0076": "Bilac",
    "0077": "Birigui",
    "0079": "Botucatu",
    "0080": "Cabreúva",
    "0082": "Boituva",
    "0094": "Brodowski",
    "0095": "Brotas",
    "0097": "Buritama",
    "0099": "Bragança Paulista",
    "0691": "Buri",
    "0101": "Caçapava",
    "0102": "Cachoeira Paulista",
    "0103": "Caconde",
    "0104": "Cafelândia",
    "0106": "Caieiras",
    "0108": "Cajamar",
    "0111": "Cajuru",
    "0114": "Campinas",
    "0115": "Campo Limpo Paulista",
    "0116": "Campos do Jordão",
    "0118": "Cananéia",
    "0120": "Cândido Mota",
    "0123": "Capão Bonito",
    "0125": "Capivari",
    "0126": "Caraguatatuba",
    "0127": "Carapicuíba",
    "0128": "Cardoso",
    "0129": "Casa Branca",
    "0132": "Catanduva",
    "0136": "Cerqueira César",
    "0137": "Cerquilho",
    "0140": "Chavantes",
    "0142": "Colina",
    "0144": "Conchal",
    "0145": "Conchas",
    "0146": "Cordeirópolis",
    "0150": "Cosmópolis",
    "0152": "Cotia",
    "0153": "Cravinhos",
    "0156": "Cruzeiro",
    "0157": "Cubatão",
    "0159": "Cunha",
    "0232": "Cesário Lange",
    "0160": "Descalvado",
    "0161": "Diadema",
    "0165": "Dois Córregos",
    "0168": "Dracena",
    "0169": "Duartina",
    "0172": "Eldorado Paulista",
    "0176": "Embu das Artes",
    "0177": "Embu-Guaçu",
    "0180": "Espírito Santo do Pinhal",
    "0185": "Estrela D'Oeste",
    "0187": "Fartura",
    "0189": "Fernandópolis",
    "0191": "Ferraz de Vasconcelos",
    "0196": "Franca",
    "0197": "Francisco Morato",
    "0198": "Franco da Rocha",
    "0673": "Flórida Paulista",
    "0200": "Gália",
    "0201": "Garça",
    "0204": "General Salgado",
    "0205": "Getulina",
    "0210": "Guaíra",
    "0213": "Guará",
    "0218": "Guararapes",
    "0219": "Guararema",
    "0220": "Guaratinguetá",
    "0222": "Guariba",
    "0223": "Guarujá",
    "0224": "Guarulhos",
    "0229": "Hortolândia",
    "0027": "Iacanga",
    "0233": "Ibaté",
    "0236": "Ibitinga",
    "0238": "Ibiúna",
    "0240": "Iepê",
    "0242": "Igarapava",
    "0244": "Iguape",
    "0246": "Ilha Solteira",
    "0247": "Ilhabela",
    "0248": "Indaiatuba",
    "0252": "Ipaussu",
    "0257": "Ipuã",
    "0262": "Itaberá",
    "0263": "Itaí",
    "0264": "Itajobi",
    "0266": "Itanhaém",
    "0268": "Itapecerica da Serra",
    "0269": "Itapetininga",
    "0270": "Itapeva",
    "0271": "Itapevi",
    "0272": "Itapira",
    "0274": "Itápolis",
    "0275": "Itaporanga",
    "0278": "Itaquaquecetuba",
    "0279": "Itararé",
    "0280": "Itariri",
    "0281": "Itatiba",
    "0282": "Itatinga",
    "0283": "Itirapina",
    "0286": "Itu",
    "0288": "Ituverava",
    "0514": "Itupeva",
    "0291": "Jaboticabal",
    "0292": "Jacareí",
    "0294": "Jacupiranga",
    "0296": "Jaguariúna",
    "0297": "Jales",
    "0299": "Jandira",
    "0300": "Jardinópolis",
    "0301": "Jarinu",
    "0302": "Jaú",
    "0306": "José Bonifácio",
    "0309": "Jundiaí",
    "0311": "Junqueirópolis",
    "0312": "Juquiá",
    "0315": "Laranjal Paulista",
    "0318": "Leme",
    "0319": "Lençóis Paulista",
    "0320": "Limeira",
    "0322": "Lins",
    "0323": "Lorena",
    "0326": "Lucélia",
    "0681": "Louveira",
    "0333": "Macatuba",
    "0334": "Macaubal",
    "0337": "Mairinque",
    "0338": "Mairiporã",
    "0341": "Maracaí",
    "0344": "Marília",
    "0346": "Martinópolis",
    "0347": "Matão",
    "0348": "Mauá",
    "0352": "Miguelópolis",
    "0355": "Miracatu",
    "0356": "Mirandópolis",
    "0357": "Mirante do Paranapanema",
    "0358": "Mirassol",
    "0360": "Mococa",
    "0361": "Mogi das Cruzes",
    "0362": "Mogi Guaçu",
    "0363": "Mogi Mirim",
    "0366": "Mongaguá",
    "0368": "Monte Alto",
    "0369": "Monte Aprazível",
    "0370": "Monte Azul Paulista",
    "0372": "Monte Mor",
    "0374": "Morro Agudo",
    "0382": "Neves Paulista",
    "0383": "Nhandeara",
    "0390": "Nova Granada",
    "0394": "Nova Odessa",
    "0396": "Novo Horizonte",
    "0397": "Nuporanga",
    "0243": "Natividade da Serra",
    "0695": "Nazaré Paulista",
    "0400": "Olímpia",
    "0404": "Orlândia",
    "0405": "Osasco",
    "0407": "Osvaldo Cruz",
    "0408": "Ourinhos",
    "0696": "Ouroeste",
    "0411": "Pacaembu",
    "0412": "Palestina",
    "0414": "Palmeira D'Oeste",
    "0415": "Palmital",
    "0416": "Panorama",
    "0417": "Paraguaçu Paulista",
    "0418": "Paraibuna",
    "0420": "Paranapanema",
    "0424": "Pariquera-Açu",
    "0426": "Patrocínio Paulista",
    "0428": "Paulínia",
    "0430": "Paulo de Faria",
    "0431": "Pederneiras",
    "0434": "Pedregulho",
    "0435": "Pedreira",
    "0438": "Penápolis",
    "0439": "Pereira Barreto",
    "0441": "Peruíbe",
    "0443": "Piedade",
    "0444": "Pilar do Sul",
    "0445": "Pindamonhangaba",
    "0447": "Pinhalzinho",
    "0449": "Piquete",
    "0450": "Piracaia",
    "0451": "Piracicaba",
    "0452": "Piraju",
    "0453": "Pirajuí",
    "0456": "Pirapozinho",
    "0457": "Pirassununga",
    "0458": "Piratininga",
    "0459": "Pitangueiras",
    "0462": "Poá",
    "0464": "Pompéia",
    "0466": "Pontal",
    "0470": "Porangaba",
    "0471": "Porto Feliz",
    "0472": "Porto Ferreira",
    "0474": "Potirendaba",
    "0477": "Praia Grande",
    "0480": "Presidente Bernardes",
    "0481": "Presidente Epitácio",
    "0482": "Presidente Prudente",
    "0483": "Presidente Venceslau",
    "0484": "Promissão",
    "0698": "Pirangi",
    "0486": "Quatá",
    "0488": "Queluz",
    "0491": "Rancharia",
    "0493": "Regente Feijó",
    "0495": "Registro",
    "0498": "Ribeirão Bonito",
    "0505": "Ribeirão Pires",
    "0506": "Ribeirão Preto",
    "0510": "Rio Claro",
    "0511": "Rio das Pedras",
    "0512": "Rio Grande da Serra",
    "0515": "Rosana",
    "0516": "Roseira",
    "0523": "Salesópolis",
    "0526": "Salto",
    "0529": "Santana de Parnaíba",
    "0531": "Santa Adélia",
    "0533": "Santa Bárbara d'Oeste",
    "0534": "Santa Branca",
    "0538": "Santa Cruz das Palmeiras",
    "0539": "Santa Cruz do Rio Pardo",
    "0541": "Santa Fé do Sul",
    "0543": "Santa Isabel",
    "0547": "Santa Rita do Passa Quatro",
    "0549": "Santa Rosa de Viterbo",
    "0553": "Santo Anastácio",
    "0554": "Santo André",
    "0562": "Santos",
    "0563": "São Bento do Sapucaí",
    "0564": "São Bernardo do Campo",
    "0565": "São Caetano do Sul",
    "0566": "São Carlos",
    "0568": "São João da Boa Vista",
    "0572": "São Joaquim da Barra",
    "0575": "São José do Rio Pardo",
    "0576": "São José do Rio Preto",
    "0577": "São José dos Campos",
    "0579": "São Luiz do Paraitinga",
    "0581": "São Manuel",
    "0582": "São Miguel Arcanjo",
    "0584": "São Pedro",
    "0586": "São Roque",
    "0587": "São Sebastião",
    "0588": "São Sebastião da Grama",
    "0589": "São Simão",
    "0590": "São Vicente",
    "0595": "Serra Negra",
    "0596": "Serrana",
    "0597": "Sertãozinho",
    "0601": "Socorro",
    "0602": "Sorocaba",
    "0604": "Sumaré",
    "0606": "Suzano",
    "0699": "Salto de Pirapora",
    "0607": "Tabapuã",
    "0609": "Taboão da Serra",
    "0614": "Tambaú",
    "0615": "Tanabi",
    "0619": "Taquaritinga",
    "0620": "Taquarituba",
    "0624": "Tatuí",
    "0625": "Taubaté",
    "0627": "Teodoro Sampaio",
    "0629": "Tietê",
    "0634": "Tremembé",
    "0637": "Tupã",
    "0638": "Tupi Paulista",
    "0642": "Ubatuba",
    "0646": "Urânia",
    "0648": "Urupês",
    "0650": "Valinhos",
    "0651": "Valparaíso",
    "0653": "Vargem Grande do Sul",
    "0654": "Vargem Grande Paulista",
    "0655": "Várzea Paulista",
    "0659": "Vinhedo",
    "0660": "Viradouro",
    "0663": "Votorantim",
    "0664": "Votuporanga",
    "0666": "Artur Nogueira",
}

COMARCAS_TJBA = {
    "0013": "Alagoinhas",
    "0091": "Barreiras",
    "0238": "Camaçari",
    "0335": "Ilhéus",
    "0348": "Itabuna",
    "0351": "Jequié",
    "0368": "Juazeiro",
    "0426": "Feira de Santana",
    "0496": "Paulo Afonso",
    "0574": "Salvador",
    "0619": "Teixeira de Freitas",
    "0637": "Valença",
    "0654": "Vitória da Conquista",
    "1001": "Amargosa",
    "1002": "Anagé",
    "1003": "Barra do Choça",
    "1004": "Belmonte",
    "1005": "Belo Campo",
    "1006": "Buerarema",
    "1007": "Cachoeira",
    "1008": "Camacan",
    "1009": "Candeias",
    "1010": "Castro Alves",
    "1011": "Catu",
    "1012": "Conceição do Almeida",
    "1013": "Conceição do Jacuípe",
    "1014": "Conde",
    "1015": "Coração de Maria",
    "1016": "Cruz das Almas",
    "1017": "Dias D'Ávila",
    "1018": "Entre Rios",
    "1019": "Esplanada",
    "1020": "Governador Mangabeira",
    "1021": "Inhambupe",
    "1022": "Irará",
    "1023": "Itaparica",
    "1024": "Itapicuru",
    "1025": "Jaguaquara",
    "1026": "Laje",
    "1027": "Maracás",
    "1028": "Maragogipe",
    "1029": "Mata de São João",
    "1030": "Muritiba",
    "1031": "Mutuípe",
    "1032": "Nazaré",
    "1033": "Nova Soure",
    "1034": "Olindina",
    "1035": "Pojuca",
    "1036": "Rio Real",
    "1037": "Santa Bárbara",
    "1038": "Santa Inês",
    "1039": "Santa Teresinha",
    "1040": "Santo Amaro",
    "1041": "Santo Estevão",
    "1042": "São Felipe",
    "1043": "São Félix",
    "1044": "São Francisco do Conde",
    "1045": "São Gonçalo dos Campos",
    "1046": "São Sebastião do Passé",
    "1047": "Sapeaçu",
    "1048": "Taperoá",
    "1049": "Terra Nova",
    "1050": "Ubaíra",
    "1051": "Andaraí",
    "1052": "Baianópolis",
    "1053": "Barra",
    "1054": "Barra da Estiva",
    "1055": "Caculé",
    "1056": "Caetité",
    "1057": "Carinhanha",
    "1058": "Casa Nova",
    "1059": "Côcos",
    "1060": "Condeúba",
    "1061": "Coribe",
    "1062": "Correntina",
    "1063": "Cotegipe",
    "1064": "Formosa do Rio Preto",
    "1065": "Gentio do Ouro",
    "1066": "Ibotirama",
    "1067": "Igaporã",
    "1068": "Ituaçu",
    "1069": "Jacaraci",
    "1070": "Livramento de Nossa Senhora",
    "1071": "Luís Eduardo Magalhães",
    "1072": "Macaúbas",
    "1073": "Oliveira dos Brejinhos",
    "1074": "Palmas de Monte Alto",
    "1075": "Paramirim",
    "1076": "Piatã",
    "1077": "Pilão Arcado",
    "1078": "Presidente Jânio Quadros",
    "1079": "Remanso",
    "1080": "Riachão das Neves",
    "1081": "Riacho de Santana",
    "1082": "Santa Maria da Vitória",
    "1083": "Santa Rita de Cássia",
    "1084": "Santana",
    "1085": "São Desidério",
    "1086": "Seabra",
    "1087": "Sento Sé",
    "1088": "Serra Dourada",
    "1089": "Sobradinho",
    "1090": "Tanhaçu",
    "1091": "Tanque Novo",
    "1092": "Tremedal",
    "1093": "Urandi",
    "1094": "Xique-Xique",
    "1095": "Amélia Rodrigues",
    "1096": "Antas",
    "1097": "Araci",
    "1098": "Barra do Mendes",
    "1099": "Campo Formoso",
    "1100": "Canarana",
    "1101": "Cansanção",
    "1102": "Capela do Alto Alegre",
    "1103": "Capim Grosso",
    "1104": "Central",
    "1105": "Chorrochó",
    "1106": "Cícero Dantas",
    "1107": "Cipó",
    "1108": "Conceição do Coité",
    "1109": "Curaçá",
    "1110": "Euclides da Cunha",
    "1111": "Iaçu",
    "1112": "Ipirá",
    "1113": "Iraquara",
    "1114": "Irecê",
    "1115": "Itabela",
    "1116": "Itaberaba",
    "1117": "Itiúba",
    "1118": "Jaguarari",
    "1119": "Jeremoabo",
    "1120": "João Dourado",
    "1121": "Lapão",
    "1122": "Lençóis",
    "1123": "Mairi",
    "1124": "Miguel Calmon",
    "1125": "Monte Santo",
    "1126": "Morro do Chapéu",
    "1127": "Mundo Novo",
    "1128": "Paripiranga",
    "1129": "Pindobaçu",
    "1130": "Piritiba",
    "1131": "Queimadas",
    "1132": "Retirolândia",
    "1133": "Riachão do Jacuípe",
    "1134": "Ribeira do Pombal",
    "1135": "Ruy Barbosa",
    "1136": "Santaluz",
    "1137": "Saúde",
    "1138": "Serrinha",
    "1139": "Teofilândia",
    "1140": "Tucano",
    "1141": "Uauá",
    "1142": "Utinga",
    "1143": "Valente",
    "1144": "Camamu",
    "1145": "Canavieiras",
    "1146": "Cândido Sales",
    "1147": "Caravelas",
    "1148": "Coaraci",
    "1149": "Encruzilhada",
    "1150": "Gandu",
    "1151": "Guaratinga",
    "1152": "Ibicaraí",
    "1153": "Ibirapuã",
    "1154": "Ibirataia",
    "1155": "Iguaí",
    "1156": "Ipiaú",
    "1157": "Itacaré",
    "1158": "Itagibá",
    "1159": "Itajuípe",
    "1160": "Itamaraju",
    "1161": "Itamari",
    "1162": "Itambé",
    "1163": "Itanhém",
    "1164": "Itapetinga",
    "1165": "Itarantim",
    "1166": "Itororó",
    "1167": "Ituberá",
    "1168": "Jitaúna",
    "1169": "Macarani",
    "1170": "Medeiros Neto",
    "1171": "Mucuri",
    "1172": "Nova Viçosa",
    "1173": "Planalto",
    "1174": "Poções",
    "1175": "Porto Seguro",
    "1176": "Prado",
    "1177": "Santa Cruz Cabrália",
    "1178": "Ubaitaba",
    "1179": "Ubatã",
    "1180": "Una",
    "1181": "Uruçuca",
    "1182": "Wenceslau Guimarães",
    "1183": "Bom Jesus da Lapa",
    "1184": "Brumado",
    "1185": "Eunápolis",
    "1186": "Guanambi",
    "1187": "Jacobina",
    "1188": "Lauro de Freitas",
    "1189": "Santo Antônio de Jesus",
    "1190": "Senhor do Bonfim",
    "1191": "Simões Filho",
}

def get_comarca_nome(codigo, tribunal="TJSP"):
    """Retorna o nome da comarca dado o código"""
    if tribunal == "TJSP":
        return COMARCAS_TJSP.get(codigo, f"Comarca {codigo}")
    elif tribunal == "TJBA":
        return COMARCAS_TJBA.get(codigo, f"Comarca {codigo}")
    return f"Comarca {codigo}"

def get_comarca_codigo(nome, tribunal="TJSP"):
    """Retorna o código da comarca dado o nome"""
    nome_lower = nome.lower()
    comarcas = COMARCAS_TJSP if tribunal == "TJSP" else COMARCAS_TJBA
    for codigo, comarca_nome in comarcas.items():
        if comarca_nome.lower() == nome_lower:
            return codigo
    return None

def extrair_codigo_comarca(numero_processo):
    """Extrai código da comarca do número CNJ (posições 16-20)"""
    numero_limpo = ''.join(filter(str.isdigit, str(numero_processo)))
    if len(numero_limpo) >= 20:
        return numero_limpo[16:20]
    return None

def formatar_numero_cnj(numero):
    """Formata número no padrão CNJ: NNNNNNN-DD.AAAA.J.TR.OOOO"""
    numero_limpo = ''.join(filter(str.isdigit, str(numero)))
    if len(numero_limpo) == 20:
        return f"{numero_limpo[0:7]}-{numero_limpo[7:9]}.{numero_limpo[9:13]}.{numero_limpo[13]}.{numero_limpo[14:16]}.{numero_limpo[16:20]}"
    return numero

# Mapeamento especial: "São Paulo" = todos os foros da capital
FOROS_SAO_PAULO_CAPITAL = [
    "0000", "0001", "0002", "0003", "0004", "0005", "0006", "0007", 
    "0008", "0009", "0010", "0011", "0020", "0084", "0704", "0014", 
    "0015", "0016", "0021", "0050", "0052", "0053", "0090", "0100", 
    "0258", "0260"
]

def expandir_sao_paulo(comarcas):
    """Se 'São Paulo' estiver na lista, expande para todos os foros da capital"""
    resultado = []
    for comarca in comarcas:
        if comarca.lower() in ["são paulo", "sao paulo", "sp capital"]:
            # Adicionar todos os foros
            for codigo in FOROS_SAO_PAULO_CAPITAL:
                nome = COMARCAS_TJSP.get(codigo)
                if nome:
                    resultado.append(nome)
        else:
            resultado.append(comarca)
    return resultado
